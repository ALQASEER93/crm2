# وثيقة متطلبات نظام إدارة علاقات العملاء (CRM) لشركة دوبامين فارما

## 1. المقدمة

تُقدم هذه الوثيقة تفصيلاً شاملاً للمتطلبات الوظيفية والتقنية لنظام إدارة علاقات العملاء (CRM) المخصص لشركة دوبامين فارما. يهدف هذا النظام إلى تعزيز كفاءة عمليات المبيعات الميدانية، وتحسين إدارة العلاقات مع الأطباء والصيدليات، وتوفير رؤى تحليلية دقيقة لدعم اتخاذ القرار. تم تصميم هذا النظام ليكون حلاً متكاملاً يلبي الاحتياجات الفريدة لشركة دوبامين فارما في قطاع الأدوية، مع التركيز على الامتثال للوائح، وقابلية التوسع، وسهولة الاستخدام.


## 2. نظرة عامة على النظام

سيتألف نظام CRM من تطبيق جوال مخصص للمندوبين الميدانيين (متوفر على نظامي iOS و Android) ومنصة ويب إدارية شاملة للمديرين والمسؤولين. يهدف التطبيق إلى تبسيط المهام اليومية للمندوبين، وتمكين الإدارة من المراقبة الفعالة، وتوفير أدوات تحليلية قوية لتحسين الأداء العام للمبيعات.


## 3. الأهداف الرئيسية للنظام

*   **تحسين كفاءة المبيعات الميدانية:** من خلال تبسيط عمليات تخطيط الزيارات، وتسجيلها، وتتبعها.
*   **تعزيز إدارة علاقات العملاء:** توفير قاعدة بيانات مركزية ومفصلة للأطباء والصيدليات، مع سجل كامل للتفاعلات.
*   **ضمان الامتثال والشفافية:** تطبيق آليات تحقق صارمة تعتمد على الموقع، وتسجيل جميع الأنشطة في سجل تدقيق مفصل.
*   **توفير رؤى تحليلية دقيقة:** تقديم لوحات معلومات وتقارير شاملة لدعم اتخاذ القرارات الاستراتيجية.
*   **تحسين أداء المندوبين:** من خلال أدوات التخطيط، والمراقبة، وتقارير الأداء الفردية.
*   **قابلية التوسع:** تصميم النظام ليتمكن من استيعاب النمو المستقبلي في عدد المستخدمين والبيانات.


## 4. الأدوار والمستخدمون

يحدد النظام أربعة أدوار رئيسية، لكل منها مجموعة محددة من الصلاحيات والمسؤوليات لضمان سير العمل بكفاءة وأمان:

*   **المسؤول (Admin):** يتمتع بصلاحيات كاملة على مستوى النظام.
*   **المدير الإقليمي (Regional Manager):** يشرف على مجموعة من المديرين والمناطق.
*   **المدير (Manager):** يدير فريقاً من المندوبين ضمن مناطق محددة.
*   **مندوب الدعاية الطبية (Medical Rep):** يقوم بالزيارات الميدانية ويسجل التفاعلات مع العملاء.

سيتم تفصيل صلاحيات كل دور في القسم المخصص لذلك.


## 5. المتطلبات الوظيفية التفصيلية

### 5.1. وحدة إدارة البيانات الأساسية (Core Data Management)

تُعد هذه الوحدة حجر الزاوية في النظام، حيث تضمن إدارة دقيقة وشاملة لبيانات العملاء.

#### 5.1.1. تحميل البيانات المتوفرة (Data Import)

يتيح النظام للمسؤولين استيراد البيانات الحالية للعملاء (الأطباء والصيدليات) بشكل جماعي لضمان الانتقال السلس للبيانات إلى النظام الجديد. يجب أن تكون عملية الاستيراد مرنة وتدعم التنسيقات الشائعة مع آليات للتحقق من صحة البيانات.

**المتطلبات:**

*   **أنواع العملاء المدعومة:** يجب أن يدعم النظام استيراد بيانات كل من الأطباء والصيدليات ككيانات منفصلة، مع إمكانية التمييز بينهما بوضوح.
*   **تنسيق الاستيراد:** يجب أن يدعم النظام استيراد البيانات من ملفات Excel (.xlsx, .xls) و CSV (.csv) لسهولة التعامل مع البيانات الموجودة.
*   **الحقول المدعومة للاستيراد:**
    *   **للأطباء:** الاسم الكامل، التخصص، المنطقة (المحافظة، اللواء/القضاء، الحي)، العنوان الدقيق للعيادة/المستشفى، رقم الهاتف، البريد الإلكتروني (اختياري)، اسم المستشفى/العيادة التي يعمل بها (اختياري)، ساعات العمل/أيام الزيارة المفضلة (اختياري)، معرف فريد داخلي (اختياري)، ملاحظات عامة (اختياري).
    *   **للصيدليات:** اسم الصيدلية، اسم الصيدلي المسؤول (اختياري)، المنطقة (المحافظة، اللواء/القضاء، الحي)، العنوان الدقيق، رقم الهاتف، البريد الإلكتروني (اختياري)، معرف فريد داخلي (اختياري)، ملاحظات عامة (اختياري).
*   **التحقق من صحة البيانات (Data Validation):**
    *   **التخصصات:** يجب أن يتم التحقق من أن التخصصات المستوردة تتوافق مع قائمة التخصصات المحددة مسبقًا في النظام. في حال وجود تخصص غير معرف، يجب على النظام تنبيه المسؤول وإعطاء خيار لإضافته أو ربطه بتخصص موجود.
    *   **تنسيق أرقام الهواتف:** يجب التحقق من أن أرقام الهواتف تتبع تنسيقًا قياسيًا محددًا (مثلاً: عدد معين من الأرقام، بادئة دولة).
    *   **عدم تكرار العملاء:** يجب أن يقوم النظام بالتحقق من عدم تكرار العملاء بناءً على معايير محددة. على سبيل المثال، إذا تم استيراد طبيب بنفس الاسم والتخصص في نفس المنطقة، يجب على النظام تنبيه المسؤول وإعطاء خيار لتحديث البيانات الموجودة أو تجاهل الإدخال المكرر. بالنسبة للصيدليات، يمكن أن يكون المعيار هو الاسم والعنوان.
*   **معالجة الأخطاء:** يجب أن يوفر النظام تقريرًا مفصلاً بالأخطاء التي حدثت أثناء عملية الاستيراد، مع تحديد الصفوف والحقول التي تحتوي على بيانات غير صالحة، لمساعدة المسؤول على تصحيحها.
*   **تسجيل العملية:** يجب تسجيل كل عملية استيراد في سجل التدقيق (Audit Log) مع تفاصيل عن المستخدم الذي قام بالاستيراد، وتاريخ ووقت العملية، وعدد السجلات المستوردة بنجاح وتلك التي فشلت.

#### 5.1.2. إضافة عميل جديد يدوياً (Manual Client Addition)

بالإضافة إلى الاستيراد الجماعي، يوفر النظام واجهة سهلة الاستخدام لإضافة عملاء جدد بشكل فردي، مع التركيز على الدقة في تحديد الموقع الجغرافي.

**المتطلبات:**

*   **صلاحية الإضافة:** تقتصر صلاحية إضافة عملاء جدد يدوياً على دوري المسؤول (Admin) والمدير (Manager) فقط. لا يمكن للمندوبين إضافة عملاء جدد.
*   **الحقول الإلزامية:**
    *   **للأطباء:** الاسم الكامل، التخصص، المنطقة (المحافظة، اللواء/القضاء، الحي)، العنوان الدقيق، رقم الهاتف.
    *   **للصيدليات:** اسم الصيدلية، المنطقة (المحافظة، اللواء/القضاء، الحي)، العنوان الدقيق، رقم الهاتف.
    *   جميع الحقول الأخرى المذكورة في قسم الاستيراد ستكون متاحة كحقول اختيارية عند الإضافة اليدوية.
*   **تحديد الموقع الجغرافي (GPS):**
    *   **التحويل التلقائي:** عند إدخال العنوان الدقيق، يجب أن يقوم النظام تلقائياً بتحويل العنوان إلى إحداثيات GPS (خط الطول وخط العرض) باستخدام خدمة خرائط موثوقة (مثل Google Maps API).
    *   **التحديد اليدوي على الخريطة:** يجب توفير خيار للمسؤول أو المدير لتحديد الموقع يدوياً على الخريطة في حال عدم دقة التحويل التلقائي أو لضبط الموقع بدقة أكبر. هذا يضمن دقة عالية في تحديد مواقع العملاء.
*   **التحقق من عدم التكرار:** عند محاولة إضافة عميل جديد، يجب أن يقوم النظام بالتحقق من عدم وجود عميل مكرر بناءً على نفس المعايير المستخدمة في عملية الاستيراد (الاسم والتخصص والمنطقة للأطباء، الاسم والعنوان للصيدليات). في حال وجود تكرار محتمل، يجب تنبيه المستخدم وإعطاء خيار للمتابعة أو الإلغاء.
*   **تسجيل العملية:** يجب تسجيل كل عملية إضافة عميل في سجل التدقيق (Audit Log) مع تفاصيل عن المستخدم الذي قام بالإضافة، وتاريخ ووقت العملية، والبيانات الأساسية للعميل المضاف.

### 5.2. وحدة إدارة المندوبين والمناطق (Rep & Territory Management)

تُمكن هذه الوحدة الإدارة من تنظيم فريق المبيعات وتوزيع العملاء والمناطق عليهم بكفاءة، مع ضمان الشفافية والمساءلة.

#### 5.2.1. تعريف المناطق وتخصيصها

يتم تعريف المناطق في النظام بشكل هرمي لتعكس التقسيمات الجغرافية الفعلية، مما يسهل إدارة التغطية الميدانية.

**المتطلبات:**

*   **هيكل المناطق:** يجب أن يدعم النظام هيكلاً هرمياً للمناطق يتكون من ثلاثة مستويات:
    *   **المحافظة (Governorate):** المستوى الأعلى.
    *   **اللواء/القضاء (District/Qadaa):** المستوى المتوسط، يتبع لمحافظة.
    *   **الحي (Neighborhood):** المستوى الأدنى، يتبع للواء/القضاء.
*   **ربط العملاء بالمناطق:** يتم ربط كل عميل (طبيب، صيدلية، مستشفى، عيادة) بمنطقته الجغرافية الدقيقة (الحي) بناءً على العنوان المدخل و/أو إحداثيات GPS الخاصة به. هذا الربط أساسي لتحديد نطاق عمل المندوبين.
*   **تخصيص العملاء للمندوبين:** داخل كل منطقة (حي)، يتم تخصيص كل عميل بشكل فردي لمندوب واحد فقط. هذا يضمن عدم تداخل المسؤوليات ووضوح التغطية.
*   **مرونة تعيين المناطق للمندوبين:**
    *   **تغطية مندوب واحد لعدة مناطق:** يجب أن يسمح النظام للمندوب الواحد بتغطية أكثر من منطقة جغرافية (حي، لواء/قضاء، أو محافظة) حسب الحاجة.
    *   **مشاركة منطقة بين عدة مندوبين:** يمكن أن يتم تعيين أكثر من مندوب لنفس المنطقة الجغرافية (حي)، ولكن يجب أن يتم تخصيص العملاء داخل هذه المنطقة بشكل فردي لكل مندوب لضمان عدم التداخل في الزيارات.

#### 5.2.2. مسؤوليات تعيين المناطق وإعادة التعيين

يحدد النظام بوضوح الأدوار المسؤولة عن تعيين المناطق والعملاء، ويضمن التعامل السلس مع عمليات إعادة التعيين مع الحفاظ على سلامة البيانات التاريخية.

**المتطلبات:**

*   **صلاحيات تعيين المناطق:**
    *   **المسؤول (Admin):** يتمتع بصلاحية شاملة لتعيين وإعادة تعيين أي منطقة أو عميل لأي مندوب أو مدير في النظام.
    *   **المدير الإقليمي (Regional Manager):** يمكنه توزيع المناطق (على مستوى اللواء/القضاء أو المحافظة) على المدراء التابعين له.
    *   **المدير (Manager):** يمكنه توزيع المناطق (على مستوى الحي) أو العملاء بشكل فردي على المندوبين في فريقه فقط، ضمن النطاق الجغرافي المخصص له.
*   **آلية إعادة التعيين:**
    *   **انتقال العملاء تلقائياً:** عند إعادة تعيين مندوب لمنطقة جديدة أو إزالة منطقة منه، يجب أن يتم نقل العملاء الذين كان مسؤولاً عنهم تلقائياً إلى المندوب الجديد المعين لتلك المنطقة، أو يتم وضعهم كـ غير مخصصين لحين تعيينهم لمندوب آخر.

*   **الاحتفاظ بسجلات الزيارات التاريخية:** يجب أن يحتفظ المندوب السابق بسجل كامل لجميع الزيارات التاريخية التي قام بها للعملاء الذين لم يعد مسؤولاً عنهم. هذه البيانات ضرورية للتقارير التاريخية وتحليل الأداء الفردي للمندوبين.
*   **تسجيل الحدث في سجل التدقيق (Audit Trail):** يجب تسجيل كل عملية تعيين أو إعادة تعيين لمنطقة أو عميل في سجل التدقيق، مع تفاصيل عن المستخدم الذي قام بالعملية، وتاريخ ووقت التنفيذ، والعملاء/المناطق المتأثرة.

#### 5.2.3. واجهة المندوب وعرض العملاء

تُصمم واجهة المندوب لتكون بسيطة ومركزة، حيث تعرض فقط المعلومات ذات الصلة بمهامه اليومية.

**المتطلبات:**

*   **عرض العملاء المخصصين فقط:** يجب أن تُظهر واجهة تطبيق المندوب تلقائياً قائمة بالعملاء (أطباء وصيدليات) المخصصين له فقط. لا يمكن للمندوب رؤية أو الوصول إلى بيانات العملاء غير المخصصين له.
*   **قيود البحث والزيارة:** لا يُسمح للمندوب بالبحث عن عملاء خارج تخصيصه أو البدء بزيارات لهم. في حالات استثنائية تتطلب زيارة عميل غير مخصص، يجب أن يتم ذلك من خلال عملية موافقة إدارية مسبقة (مثلاً، من المدير المباشر أو المسؤول) يتم تسجيلها في النظام.

### 5.3. تخصيص الصلاحيات (User Permissions)

يحدد النظام أربعة أدوار رئيسية، لكل منها مجموعة محددة من الصلاحيات والمسؤوليات لضمان سير العمل بكفاءة وأمان، وتجنب تداخل الصلاحيات.

#### 5.3.1. المسؤول (Admin)

يتمتع دور المسؤول بأعلى مستوى من الصلاحيات والتحكم في النظام، مما يمكنه من إدارة جميع جوانب التطبيق والبيانات.

**الصلاحيات:**

*   **إدارة المستخدمين:** صلاحية كاملة لإنشاء، تعديل، حذف، وتعطيل حسابات المستخدمين (بما في ذلك المدراء الإقليميين، المدراء، والمندوبين). يمكنه أيضاً إعادة ضبط كلمات المرور وتعيين الأدوار لأي مستخدم.
*   **استيراد/تصدير البيانات (Data Import/Export):** صلاحية تحميل البيانات الجديدة إلى النظام وتصدير أي بيانات من النظام (مثل بيانات العملاء، الزيارات، التقارير) لأغراض التحليل أو النسخ الاحتياطي.
*   **إدارة المناطق والعملاء على مستوى الشركة:** يمكنه إدارة جميع المناطق الجغرافية والعملاء في النظام، بما في ذلك إضافة، تعديل، وحذف أي طبيب أو صيدلية، وتعيينهم لأي مندوب أو مدير.
*   **التحكم الكامل في التقارير والتحليلات:** الوصول إلى جميع لوحات المعلومات والتقارير التحليلية على كل المستويات (فردي، فريق، إقليمي، على مستوى الشركة)، مع إمكانية تخصيص التقارير وتصديرها.
*   **تتبع GPS لجميع المندوبين:** القدرة على تتبع الموقع الحالي والتاريخي لأي مندوب في النظام، وعرض مساراتهم على الخريطة.
*   **إدارة الإعدادات العامة للنظام:** التحكم في جميع الإعدادات الأساسية للنظام، مثل قوائم التخصصات، أنواع العملاء، إعدادات التحقق من الموقع (مثل نطاق Geofence)، إعدادات التنبيهات، وإعدادات اللغة والوضع الداكن.
*   **صلاحية الدخول بحساب أي مستخدم:** لأغراض الدعم الفني أو استكشاف الأخطاء وإصلاحها، يمكن للمسؤول تسجيل الدخول بحساب أي مستخدم آخر دون الحاجة إلى كلمة المرور الخاصة به.
*   **إغلاق أو فتح حسابات المستخدمين:** يمكنه تعطيل حسابات المستخدمين مؤقتًا أو إعادة تفعيلها.

#### 5.3.2. المدير الإقليمي (Regional Manager)

يشرف دور المدير الإقليمي على أداء عدة مدراء وفرقهم ضمن إقليمه الجغرافي، ويركز على التخطيط الاستراتيجي والمراقبة على مستوى أوسع.

**الصلاحيات:**

*   **الإشراف على المدراء:** رؤية جميع المدراء التابعين له ضمن إقليمه، ومراقبة أدائهم.
*   **تعيين المناطق للمدراء:** صلاحية تعيين أو تعديل المناطق الجغرافية (على مستوى اللواء/القضاء أو المحافظة) للمدراء التابعين له.
*   **تحديد أهداف KPI والموافقة على الخطط:** يمكنه تحديد مؤشرات الأداء الرئيسية (KPIs) للإقليم ككل، والموافقة على خطط العمل التي يقدمها المدراء التابعون له.
*   **تقارير مقارنة:** الوصول إلى تقارير تحليلية ومقارنة بين أداء المناطق المختلفة والمدراء التابعين له.
*   **متابعة مواقع المندوبين:** القدرة على متابعة المواقع الحالية والتاريخية لجميع المندوبين ضمن إقليمه (أي المندوبين التابعين للمدراء الذين يشرف عليهم).
*   **رؤية وتعديل بيانات العملاء:** يمكنه رؤية جميع بيانات العملاء (أطباء وصيدليات) داخل إقليمه. يمكنه أيضاً تعديل بيانات العملاء، ولكن يجب أن يتم إشعار الإدارة (المسؤول) تلقائياً عند إجراء أي تعديل على بيانات العملاء من قبل المدير الإقليمي.

#### 5.3.3. المدير المباشر (Manager)

يتولى دور المدير المباشر الإدارة اليومية لفريق من المندوبين، ويركز على تحقيق الأهداف التشغيلية وتطوير أداء فريقه.

**الصلاحيات:**

*   **إدارة المندوبين:** صلاحية إضافة، تعديل، وتعطيل حسابات المندوبين التابعين له فقط.
*   **تعيين مناطق وعملاء للمندوبين:** يمكنه تعيين المناطق الجغرافية (على مستوى الحي) والعملاء بشكل فردي للمندوبين ضمن نطاقه الجغرافي المخصص له من قبل المدير الإقليمي أو المسؤول.
*   **الموافقة على الخطط وجداول الزيارات:** مراجعة والموافقة على الخطط الشهرية وجداول الزيارات التي يقدمها المندوبون في فريقه.
*   **تتبع GPS للمندوبين في فريقه:** القدرة على تتبع الموقع الحالي والتاريخي للمندوبين في فريقه فقط.
*   **إضافة/تعديل/حذف العملاء:** يمكنه إضافة، تعديل، وحذف العملاء (أطباء وصيدليات) الموجودين في مناطقه فقط. هذه الصلاحية تقتصر على العملاء ضمن نطاق إشرافه.
*   **تقارير أداء الفريق:** الوصول إلى تقارير أداء فريقه، مع إمكانية إجراء مقارنات فردية بين المندوبين لتقييم الأداء وتحديد نقاط القوة والضعف.
*   **إدارة المهام المجدولة والمتابعة:** يمكنه إنشاء وتعيين مهام متابعة للمندوبين، وتتبع إنجاز هذه المهام.

#### 5.3.4. مندوب الدعاية الطبية (Medical Rep)

يمثل دور مندوب الدعاية الطبية الواجهة الأمامية للشركة، ويركز على التفاعل المباشر مع العملاء وتحقيق أهداف الزيارات.

**الصلاحيات:**

*   **رؤية العملاء المخصصين فقط:** يمكنه رؤية والوصول إلى بيانات العملاء (أطباء وصيدليات) الذين تم تخصيصهم له فقط.
*   **بدء وإنهاء الزيارة:** القدرة على بدء وإنهاء الزيارات الميدانية باستخدام تطبيق الجوال، مع التحقق من الموقع الجغرافي (GPS) كما هو مفصل في وحدة إدارة الزيارات.
*   **تسجيل الملاحظات والنتائج:** تسجيل ملاحظات تفصيلية ونقاط نقاش لكل زيارة، بالإضافة إلى اختيار نتيجة الزيارة من قائمة محددة.
*   **مراجعة سجل الزيارات والخطط:** يمكنه مراجعة سجل الزيارات التي قام بها، والاطلاع على خطته الشهرية للزيارات. يمكنه إجراء تعديل محدود على خطته (مثلاً: إعادة ترتيب الزيارات ضمن اليوم، أو تغيير وقت زيارة معينة) بعد موافقة المدير.
*   **تعديل حقول غير حساسة للعميل:** يمكنه تعديل بعض الحقول غير الحساسة في بيانات العميل، مثل رقم الهاتف، البريد الإلكتروني، وساعات العمل. لا يمكنه تعديل الاسم، التخصص، العنوان الدقيق، أو حذف العميل.
*   **رؤية مؤشرات أدائه:** الوصول إلى مؤشرات أدائه الفردية، مثل عدد الزيارات المكتملة، معدل تغطية العملاء، ومتوسط مدة الزيارة.
*   **لا صلاحية لحذف العملاء:** لا يمكن للمندوب حذف أي عميل من النظام.
*   **لا صلاحية لتغيير التخصص/العنوان:** لا يمكن للمندوب تغيير التخصص أو العنوان الدقيق للعميل.

### 5.4. وحدة إدارة الزيارات الميدانية (Field Visit Management)

تُعد هذه الوحدة جوهر عمل المندوبين في الميدان، وتضمن تتبعاً دقيقاً وفعالاً ومهنياً للزيارات، بدءاً من لحظة الوصول لموقع العميل وحتى إنهاء الزيارة.

**الهدف من الوحدة:** ضمان تتبع دقيق وفعال ومهني للزيارات الميدانية التي يقوم بها المندوبون، بدءاً من لحظة الوصول لموقع العميل وحتى إنهاء الزيارة، مع تسجيل جميع التفاصيل والملاحظات والتحقق من الموقع، لضمان الشفافية والمساءلة وتحسين أداء الفريق الميداني.

#### 5.4.1. بدء الزيارة (Start Visit)

تتطلب عملية بدء الزيارة تحققاً صارماً من الموقع لضمان أن المندوب متواجد فعلياً في موقع العميل.

**المتطلبات:**

*   **نطاق التحقق من الموقع (Geofence):** يجب أن يكون المندوب داخل نطاق جغرافي (Geofence) بمحيط 100 متر حول الموقع المسجل للعميل (الطبيب/الصيدلية) ليتمكن من تفعيل زر "بدء الزيارة".
*   **دقة GPS المطلوبة:** يجب أن يكون GPS مفعلاً على جهاز المندوب، ويجب أن يحصل التطبيق على إحداثيات دقيقة لا تقل دقتها عن 10 أمتار قبل السماح ببدء الزيارة.
*   **التعامل مع المندوب خارج النطاق:**
    *   إذا كان المندوب خارج نطاق الـ 100 متر، تظهر له رسالة واضحة: "أنت خارج نطاق العميل، الرجاء الاقتراب من الموقع المحدد."
    *   لا يمكن للمندوب البدء بالزيارة حتى يدخل النطاق المحدد.
*   **التعامل مع ضعف GPS داخل المباني الكبيرة:**
    *   في الحالات التي تكون فيها إشارة GPS ضعيفة (مثلاً داخل مستشفى كبير أو مبنى متعدد الطوابق)، يمكن للمندوب طلب "استثناء يدوي" من المدير.
    *   يتم منح الاستثناء من قبل المدير (عبر لوحة التحكم الإدارية) لمرة واحدة لكل زيارة، ويتم تسجيل هذا الاستثناء في سجل التدقيق.
*   **تسجيل البيانات عند بدء الزيارة:** عند الضغط على "بدء الزيارة"، يجب أن يقوم النظام تلقائياً بحفظ:
    *   الوقت الدقيق (Timestamp) لبدء الزيارة.
    *   إحداثيات GPS الدقيقة للموقع الفعلي للمندوب في لحظة بدء الزيارة.

#### 5.4.2. عداد وقت الزيارة (Visit Timer)

يساعد عداد الوقت في تتبع المدة الفعلية لكل زيارة، مما يوفر بيانات قيمة لتحليل كفاءة الزيارات.

**المتطلبات:**

*   **بداية العداد:** يبدأ العداد تلقائيًا فور الضغط على "بدء الزيارة" وبعد اجتياز جميع التحققات من الموقع.
*   **عرض العداد:** يجب أن يكون العداد مرئياً للمندوب بواجهة التطبيق أثناء الزيارة، ليعرف المدة المنقضية.
*   **مدة الزيارة:**
    *   **حد أدنى:** يجب ألا تقل مدة الزيارة عن 5 دقائق. إذا تم إنهاء الزيارة قبل هذا الوقت، يتم تسجيلها كزيارة قصيرة جداً وقد تتطلب مراجعة من المدير.
    *   **حد أقصى:** يجب ألا تزيد مدة الزيارة عن 90 دقيقة.
    *   **تجاوز الزمن:** إذا تجاوزت مدة الزيارة 90 دقيقة، يُطلق تنبيه تلقائي للمدير المسؤول عن المندوب، ويظهر تنبيه داخل التطبيق للمندوب لإعلامه بتجاوز الوقت.

#### 5.4.3. إنهاء الزيارة (End Visit)

تُعد عملية إنهاء الزيارة نقطة حاسمة لتسجيل نتائج الزيارة وتفاصيلها النهائية.

**المتطلبات:**

*   **آلية الإنهاء:** يتم إنهاء الزيارة بالضغط على زر "إنهاء الزيارة" يدوياً من قبل المندوب عبر تطبيق الجوال.
*   **تسجيل إحداثيات الإنهاء:** يجب تسجيل إحداثيات GPS الدقيقة للمندوب عند لحظة الضغط على "إنهاء الزيارة". سيقوم النظام تلقائياً بحساب المسافة بين نقطة بدء الزيارة ونقطة إنهائها لتقييم مدى حركة المندوب أثناء الزيارة.
*   **إجبارية نتيجة الزيارة والملاحظات:** لا يُسمح بإنهاء الزيارة دون أن يقوم المندوب باختيار "نتيجة الزيارة" من قائمة محددة مسبقاً (مثل: تمت الزيارة بنجاح، الطبيب غير متاح، الزيارة مرفوضة، العيادة مغلقة). كما يجب أن يقوم المندوب بإدخال ملاحظات الزيارة أو اختيار خيار "لا توجد ملاحظات" إذا لم يكن هناك ما يسجله.
*   **التعامل مع عدم إنهاء الزيارة:**
    *   إذا نسي المندوب إنهاء الزيارة، يتم إرسال تنبيه فوري له بعد 90 دقيقة من بدء الزيارة لتذكيره.
    *   إذا لم يتم الرد على التنبيه أو لم يتم إنهاء الزيارة يدوياً بعد فترة زمنية إضافية (مثلاً 15 دقيقة بعد التنبيه)، تُغلق الزيارة تلقائيًا بواسطة النظام، وتُعلّق للمراجعة من قبل المدير المسؤول عن المندوب.

#### 5.4.4. الملاحظات داخل كل حساب عميل (طبيب + صيدلية)

تُمكن هذه الميزة المندوبين من تسجيل تفاصيل هامة حول تفاعلاتهم مع العملاء، مما يثري قاعدة بيانات العملاء ويوفر سياقاً للزيارات المستقبلية.

**المتطلبات:**

*   **نوع الملاحظات:**
    *   **ملاحظات نصية حرة:** حقل نصي غير محدود لإدخال أي تفاصيل ذات صلة بالزيارة.
    *   **إضافة صور:** خيار للمندوب لالتقاط صور أو تحميلها من معرض الصور (مثلاً: صور للعروض الترويجية المعروضة، أو لافتات جديدة في العيادة).
    *   **تسجيل صوتي (اختياري):** خيار للمندوب لتسجيل ملاحظات صوتية قصيرة (هذه الميزة يمكن إضافتها في مرحلة لاحقة إذا كانت الأولوية أقل).
*   **تصنيف الملاحظات:** يجب أن يتمكن المندوب من تصنيف ملاحظاته من قائمة محددة مسبقاً، مما يسهل عملية البحث والتحليل لاحقاً. التصنيفات المقترحة:
    *   مناقشة علمية.
    *   ملاحظة عن الطلب.
    *   منافس (معلومات عن أنشطة المنافسين).
    *   ملاحظة شخصية أو سلوكية (عن العميل نفسه).
*   **رؤية الملاحظات:** يمكن لجميع الأدوار الإشرافية (المندوب نفسه، المدير، المدير الإقليمي، والمسؤول) رؤية جميع الملاحظات المسجلة للعملاء.
*   **التعديل على الملاحظات:** يمكن للمندوب تعديل الملاحظات التي قام بتسجيلها خلال 24 ساعة فقط من وقت الزيارة. بعد هذه الفترة، تصبح الملاحظات غير قابلة للتعديل من قبل المندوب، ولكن يمكن للمدير أو المسؤول تعديلها مع تسجيل ذلك في سجل التدقيق.

#### 5.4.5. تنبيهات الإدارة (Admin Alerts)

يوفر النظام نظام تنبيهات فعالاً لإبقاء الإدارة على اطلاع دائم بالأنشطة الهامة للمندوبين في الميدان.

**المتطلبات:**

*   **تنبيه عند تسجيل الدخول اليومي:**
    *   يُرسل تنبيه تلقائي للمدير المسؤول عند تسجيل دخول المندوب للتطبيق يومياً.
    *   يحتوي التنبيه على: اسم المندوب، الوقت الدقيق لتسجيل الدخول، والمنطقة الجغرافية التي سجل منها الدخول.
*   **تنبيه عند بدء الزيارة:**
    *   يُرسل تنبيه تلقائي للمدير المسؤول عند بدء المندوب لأي زيارة.
    *   يحتوي التنبيه على: اسم العميل الذي تتم زيارته، اسم المندوب، الوقت الدقيق لبدء الزيارة، الموقع الجغرافي (إحداثيات GPS)، ونوع العميل (طبيب/صيدلية).
*   **قناة التنبيهات:**
    *   **إشعارات داخل التطبيق (In-App Notifications):** تظهر مباشرة في لوحة تحكم المدير/المسؤول.
    *   **بريد إلكتروني (Email Summary):** يمكن إرسال ملخص يومي أو أسبوعي للتنبيهات عبر البريد الإلكتروني.
    *   **رسائل SMS (اختياري):** يمكن إعداد هذه القناة في مرحلة لاحقة للتنبيهات الحرجة جداً.
*   **تخصيص التنبيهات:** يمكن للمدير/المسؤول تخصيص أنواع التنبيهات التي يرغب في استلامها، مما يقلل من الضوضاء ويزيد من فعالية التنبيهات. الخيارات المتاحة للتخصيص:
    *   تنبيه عند بدء زيارة.
    *   تنبيه عند تجاوز زمن زيارة (90 دقيقة).
    *   تنبيه عند محاولة زيارة عميل غير مخصص للمندوب.
    *   تنبيه عند عدم تنفيذ أي زيارة خلال يوم العمل (للمندوبين الذين سجلوا دخولهم).

#### 5.4.6. اقتراحات مهنية إضافية (Future Enhancements)

هذه الميزات يمكن إضافتها في مراحل لاحقة لتعزيز وظائف النظام:

*   **زر "زيارة عاجلة":** يظهر للمندوب عند وجود بلاغ عاجل من إدارة الشركة أو من الطبيب نفسه، مما يسمح بتسجيل زيارات غير مجدولة مسبقاً مع إشارة خاصة.
*   **جدولة "متابعة" تلقائية:** إمكانية جدولة زيارة متابعة تلقائية بناءً على نتيجة زيارة سابقة (مثلاً: إذا كانت نتيجة الزيارة "الطبيب غير متاح"، يتم اقتراح زيارة متابعة بعد يومين).
*   **تحويل ملاحظة إلى مهمة:** إمكانية تحويل ملاحظة معينة سجلها المندوب إلى مهمة داخل جدول المدير للمتابعة.

### 5.5. وحدة التخطيط والجدولة والتقارير (Planning, Scheduling, and Reporting)

تُمكن هذه الوحدة الإدارة والمندوبين من تخطيط الأنشطة بكفاءة، وتتبع التقدم، والحصول على رؤى تحليلية عميقة حول أداء المبيعات.

#### 5.5.1. التخطيط والجدولة (Planning & Scheduling)

تُعد أدوات التخطيط والجدولة أساسية لتمكين المندوبين من تنظيم زياراتهم بشكل فعال، وللمديرين من مراجعة الخطط والموافقة عليها.

**المتطلبات:**

*   **الخطة الشهرية للزيارات:**
    *   **الإنشاء:** يقوم المندوب بإنشاء خطته الشهرية للزيارات من الصفر باستخدام واجهة التقويم التفاعلية.
    *   **إضافة عملاء غير مخصصين:** لا يمكن للمندوب إضافة عملاء غير مخصصين له إلى خطته الشهرية. يجب أن تقتصر الخطة على العملاء المخصصين له فقط.
    *   **تعديل خطة المندوب من قبل المدير:** نعم، يمكن للمدير تعديل خطة المندوب مباشرة (إضافة/إزالة زيارات، تغيير التواريخ/الأوقات) بعد مراجعتها.
    *   **نظام الموافقة على الخطة:** يجب أن يكون هناك نظام واضح للموافقة على الخطة. يقوم المندوب بتقديم خطته الشهرية للمراجعة، ويقوم المدير بمراجعتها والموافقة عليها أو رفضها (مع ذكر الأسباب) قبل تفعيلها.
*   **التقويم التفاعلي (Interactive Calendar):**
    *   **طرق العرض:** يجب أن يوفر التقويم طرق عرض متعددة لتناسب احتياجات المستخدمين: عرض يومي، أسبوعي، وشهري.
    *   **سحب وإفلات العملاء:** يجب أن يتمكن المندوب من سحب وإفلات العملاء من قائمة العملاء المخصصين له مباشرة إلى أيام محددة في التقويم لجدولة الزيارات بسهولة.
    *   **أنواع أخرى من الأحداث:** يمكن إضافة أنواع أخرى من الأحداث إلى التقويم، مثل الاجتماعات الداخلية، الإجازات، الدورات التدريبية، أو أي أنشطة غير زيارات العملاء.
*   **تحديد الأهداف (Target Setting):**
    *   **دعم النظام:** يجب أن يدعم النظام تحديد أهداف كمية للزيارات، مثل عدد معين من الزيارات شهريًا لكل مندوب، أو عدد زيارات لتخصص معين من الأطباء، أو عدد زيارات في منطقة محددة.
    *   **من يحدد الأهداف:** يمكن للمدير، المدير الإقليمي، أو المسؤول تحديد هذه الأهداف، حسب مستوى الصلاحية والتسلسل الهرمي.

#### 5.5.2. التقارير والتحليلات (Reporting & Analytics)

تُعد التقارير والتحليلات من أهم ميزات النظام، حيث توفر رؤى عميقة حول أداء المبيعات وتساعد في اتخاذ القرارات الاستراتيجية.

**المتطلبات:**

*   **لوحات المعلومات (Dashboards):** يجب أن يوفر النظام لوحات معلومات تفاعلية ومخصصة لكل دور، تعرض أهم المؤشرات الرئيسية للأداء (KPIs) بشكل مرئي وسهل الفهم.
    *   **للمندوب:** عدد الزيارات المكتملة (يومي/أسبوعي/شهري)، متوسط مدة الزيارة، نسبة تغطية العملاء المخصصين، العملاء المتبقين في الخطة، أداء الزيارات (عدد الزيارات التي تمت بنجاح، المرفوضة، المغلقة، غير المتاحة).
    *   **للمدير:** أداء الفريق مقابل الأهداف المحددة، عدد الزيارات لكل مندوب في فريقه، العملاء غير المغطين في مناطق فريقه، تحليل نتائج الزيارات لفريقه (نسب النجاح والفشل)، مقارنة أداء المندوبين داخل فريقه.
    *   **للمدير الإقليمي:** أداء المناطق التابعة له، مقارنة أداء المدراء، إجمالي الزيارات في الإقليم، تحليل نتائج الزيارات على مستوى الإقليم.
    *   **للمسؤول:** جميع المؤشرات على مستوى الشركة، تحليل الاتجاهات العامة للمبيعات والزيارات، أداء المنتجات/التخصصات، تحليل شامل لنتائج الزيارات على مستوى الشركة، تقارير الامتثال.
*   **الرسوم البيانية:** يجب أن يدعم النظام أنواعاً مختلفة من الرسوم البيانية لتصور البيانات بفعالية، مثل الرسوم البيانية الشريطية (Bar Charts)، الدائرية (Pie Charts)، الخطية (Line Charts) لتتبع الاتجاهات، والخرائط الحرارية (Heatmaps) لتصور كثافة الزيارات في مناطق معينة.
*   **التقارير المخصصة (Custom Reports):** يجب أن يوفر النظام خياراً لإنشاء تقارير مخصصة بناءً على معايير متعددة، مما يتيح للمستخدمين استخراج البيانات التي يحتاجونها بدقة. أمثلة على التقارير المخصصة:
    *   تقرير زيارات الأطباء في تخصص معين خلال فترة زمنية محددة.
    *   تقارير حسب المنطقة الجغرافية (محافظة، لواء/قضاء، حي).
    *   تقارير حسب المندوب أو فريق المبيعات.
    *   تقارير حسب نوع العميل (طبيب/صيدلية).
    *   تقارير عن العملاء الذين لم تتم زيارتهم لفترة طويلة.
*   **خيارات التصدير:** يجب أن تكون جميع التقارير ولوحات المعلومات قابلة للتصدير بتنسيقات شائعة مثل PDF، Excel، و CSV.

#### 5.5.3. تحليل الموقع (Location Analytics)

تُقدم هذه الميزة رؤى قيمة حول حركة المندوبين وكفاءة مساراتهم.

**المتطلبات:**

*   **رؤية مسارات المندوبين على الخريطة:** القدرة على عرض المسار التاريخي لكل مندوب على الخريطة خلال فترة زمنية محددة (يومي، أسبوعي، شهري).
*   **تحليل المسافة المقطوعة:** حساب وعرض إجمالي المسافة المقطوعة لكل مندوب خلال فترة زمنية محددة.
*   **تحليل الوقت المستغرق في التنقل:** تحليل الوقت الذي يقضيه المندوب في التنقل بين الزيارات، مما يساعد في تحسين تخطيط المسارات.

### 5.6. سجل التدقيق (Audit Trail)

يُعد سجل التدقيق مكوناً حاسماً لضمان الشفافية، المساءلة، والامتثال للوائح، حيث يسجل جميع الأنشطة الهامة التي تتم داخل النظام.

**المتطلبات:**

*   **التسجيل التلقائي:** يجب أن يقوم النظام بتسجيل جميع الأنشطة الهامة تلقائياً، بما في ذلك على سبيل المثال لا الحصر:
    *   تعيينات المستخدمين والأدوار.
    *   إعادة تعيين المناطق والعملاء للمندوبين/المدراء.
    *   تعديل صلاحيات المستخدمين.
    *   إضافة/حذف/تعديل العملاء (أطباء وصيدليات).
    *   تغييرات البيانات الحساسة (مثل عناوين العملاء، أرقام الهواتف).
    *   بدء وإنهاء الزيارات (مع تفاصيل الموقع والوقت).
    *   أي استثناءات يتم منحها (مثل تجاوز التحقق من الموقع).
    *   تسجيل الدخول والخروج للمستخدمين.
*   **تفاصيل السجل:** يجب أن يتضمن كل إدخال في سجل التدقيق:
    *   اسم المستخدم الذي قام بالعملية.
    *   الدور الذي ينتمي إليه المستخدم.
    *   تاريخ ووقت العملية (بالتوقيت المحلي لعمّان).
    *   نوع العملية (إضافة، تعديل، حذف، تسجيل دخول، إلخ).
    *   الكيان المتأثر بالعملية (مثلاً: اسم العميل، اسم المندوب).
    *   تفاصيل التغيير (ماذا تم تغييره، من القيمة القديمة إلى القيمة الجديدة).
*   **مدة الاحتفاظ:** يجب الاحتفاظ بسجل التدقيق لمدة لا تقل عن 5 سنوات للامتثال للمتطلبات التنظيمية.
*   **قابلية التصدير:** يجب أن يكون سجل التدقيق قابلاً للتصدير بتنسيقات شائعة مثل PDF و Excel لأغراض المراجعة والتدقيق الخارجي.

### 5.7. المتطلبات التقنية والبنية التحتية (Technical Requirements & Infrastructure)

تُحدد هذه الوحدة التقنيات المستخدمة، متطلبات الأداء والأمان، وهيكل الاستضافة لضمان نظام قوي، موثوق، وقابل للتوسع.

#### 5.7.1. التقنيات المقترحة (Technology Stack)

تم اختيار التقنيات التالية بناءً على قابلية التوسع، الأداء، سهولة التطوير، وتوفر مجتمع الدعم:

*   **الواجهة الأمامية للويب (Frontend Web):** `React.js` أو `Next.js` لتطوير لوحة التحكم الإدارية، مما يوفر تجربة مستخدم سريعة وتفاعلية.
*   **تطبيق الجوال (Mobile):** `React Native` لتطوير تطبيق واحد يعمل بكفاءة على كل من نظامي iOS و Android، مما يقلل من وقت وتكلفة التطوير.
*   **الواجهة الخلفية (Backend):** `Node.js` مع إطار عمل `Express` لتطوير واجهات برمجة التطبيقات (APIs) التي تربط بين الواجهات الأمامية وقاعدة البيانات. يوفر Node.js أداءً عالياً وقابلية للتوسع.
*   **قاعدة البيانات (Database):** `MongoDB Atlas` كقاعدة بيانات NoSQL سحابية. توفر MongoDB مرونة عالية في هيكلة البيانات، وقابلية توسع أفقية ممتازة، وميزات مدمجة للنسخ الاحتياطي والأمان.
*   **الاستضافة (Hosting):** `Google Cloud Platform (GCP)` مع استخدام `Firebase` لخدمات معينة (مثل المصادقة، التخزين السحابي للملفات). توفر GCP بنية تحتية قوية، عالمية، وقابلة للتوسع.

#### 5.7.2. الأمان (Security)

يُعد الأمان أولوية قصوى في تصميم وتطوير النظام لضمان حماية البيانات الحساسة للمستخدمين والعملاء.

**المتطلبات:**

*   **المصادقة والترخيص:**
    *   **JSON Web Tokens (JWT):** لاستخدامها في مصادقة المستخدمين بين الواجهات الأمامية والخلفية.
    *   **Role-Based Access Control (RBAC):** تطبيق صارم لصلاحيات الوصول المستندة إلى الدور لضمان أن كل مستخدم يمكنه الوصول فقط إلى الميزات والبيانات المسموح بها لدوره.
    *   **المصادقة الثنائية (2FA):** يجب دعم المصادقة الثنائية كخيار أمان إضافي للمستخدمين (خاصة للمسؤولين والمديرين) في مرحلة لاحقة.
*   **تشفير البيانات:**
    *   **AES-256:** يجب تشفير جميع البيانات الحساسة في قاعدة البيانات باستخدام خوارزمية AES-256.
    *   **HTTPS:** يجب أن يتم جميع الاتصالات بين الواجهات الأمامية والخلفية عبر بروتوكول HTTPS لضمان تشفير البيانات أثناء النقل.
*   **الحماية من الثغرات الأمنية الشائعة:**
    *   **Cross-Site Scripting (XSS):** تطبيق إجراءات صارمة للحماية من هجمات XSS.
    *   **SQL Injection:** على الرغم من استخدام MongoDB (NoSQL)، يجب تطبيق أفضل الممارسات للحماية من أي ثغرات حقن محتملة.
    *   **إدارة الجلسات:** تطبيق آليات آمنة لإدارة جلسات المستخدمين.
*   **تدقيق الأمان:** إجراء تدقيقات أمنية منتظمة واختبارات اختراق (Penetration Testing) لضمان اكتشاف ومعالجة أي نقاط ضعف.

#### 5.7.3. الاستضافة (Hosting)

تُعد بيئة الاستضافة حاسمة لضمان توفر النظام، أدائه، وقابليته للتوسع.

**المتطلبات:**

*   **نوع الاستضافة:** يفضل الاستضافة السحابية (Cloud Hosting) لضمان المرونة، قابلية التوسع، والموثوقية العالية. `Google Cloud Platform (GCP)` هو الخيار المفضل.
*   **خدمات GCP المقترحة:**
    *   **Cloud Functions:** لاستضافة الواجهة الخلفية (Node.js/Express) كخدمات بلا خادم (Serverless)، مما يوفر قابلية توسع تلقائية وفعالية في التكلفة.
    *   **Cloud Storage:** لتخزين الملفات (مثل الصور والتسجيلات الصوتية المرفقة بالملاحظات).
    *   **Firebase Authentication:** لإدارة مصادقة المستخدمين.
*   **النسخ الاحتياطي واستعادة البيانات:**
    *   **نسخ احتياطي يومي:** للبيانات الحساسة في قاعدة البيانات.
    *   **نسخ احتياطي أسبوعي:** للبيانات الكاملة للنظام.
    *   يجب أن تكون هناك خطة واضحة ومختبرة لاستعادة البيانات في حال حدوث أي كارثة.
*   **الموقع الجغرافي للخوادم:** يفضل أن تكون الخوادم في منطقة جغرافية قريبة من الأردن (مثل مراكز بيانات GCP في أوروبا أو الشرق الأوسط إن توفرت) لتقليل زمن الاستجابة (Latency) للمستخدمين في الأردن، وللامتثال للوائح حماية البيانات الأردنية وGDPR.

#### 5.7.4. هيكل قاعدة البيانات (Database Structure)

تم تصميم هيكل قاعدة البيانات ليكون مرناً وقابلاً للتوسع، مع مراعاة العلاقات بين الكيانات المختلفة.

**الكيانات الرئيسية المقترحة:**

*   **Users:** لتخزين معلومات جميع المستخدمين (الاسم، البريد الإلكتروني، كلمة المرور المشفرة، الدور، حالة الحساب، تاريخ آخر تسجيل دخول، إلخ).
*   **Clients:** لتمثيل الأطباء والصيدليات. سيحتوي على حقول مشتركة (الاسم، العنوان، الهاتف، البريد الإلكتروني، إحداثيات GPS) وحقل `clientType` (طبيب/صيدلية) لتحديد النوع. يمكن إضافة حقول خاصة بكل نوع حسب الحاجة.
*   **Territories:** لتمثيل الهيكل الجغرافي الهرمي (محافظة، لواء/قضاء، حي) مع علاقات الأبوة والبنوه.
*   **ClientAssignments:** لربط العملاء بالمندوبين المسؤولين عنهم، مع تسجيل تاريخ التعيين والمستخدم الذي قام بالتعيين.
*   **Visits:** لتخزين تفاصيل كل زيارة (المندوب، العميل، وقت البدء/الانتهاء، إحداثيات GPS للبدء والانتهاء، مدة الزيارة، نتيجة الزيارة، حالة الزيارة، أي استثناءات).
*   **VisitNotes:** لتخزين الملاحظات النصية، مسارات الصور، ومسارات التسجيلات الصوتية لكل زيارة، مع حقل لتصنيف الملاحظة.
*   **MonthlyPlans:** لتخزين خطط الزيارات المجدولة لكل مندوب، مع تفاصيل الزيارات المخطط لها وحالة الموافقة عليها.
*   **AuditLog:** لتسجيل جميع الأنشطة الهامة في النظام (المستخدم، الوقت، نوع العملية، الكيان المتأثر، تفاصيل التغيير).
*   **Notifications:** لتخزين التنبيهات المرسلة للمديرين والمسؤولين وحالتها (مقروءة/غير مقروءة).
*   **SystemSettings:** لتخزين الإعدادات العامة للنظام (مثل قوائم التخصصات، أنواع نتائج الزيارات، نطاق Geofence الافتراضي).

### 5.8. التكامل مع الأنظمة الأخرى (Integrations)

يجب تصميم النظام بواجهات برمجة تطبيقات (APIs) قياسية وموثقة جيداً لتسهيل التكامل المستقبلي مع أنظمة دوبامين فارما الأخرى.

**المتطلبات:**

*   **واجهات برمجة تطبيقات RESTful:** يجب أن يوفر النظام مجموعة من واجهات برمجة التطبيقات (APIs) من نوع RESTful لتمكين الأنظمة الخارجية من التفاعل معه بشكل آمن ومنظم.
*   **التكاملات المستقبلية المحتملة:**
    *   **نظام ERP:** لتكامل بيانات المبيعات، المخزون، والعملاء.
    *   **نظام إدارة المخزون:** لتتبع توزيع العينات أو المواد الترويجية.
    *   **نظام مالي:** لتكامل بيانات المصروفات أو العمولة.

### 5.9. المتطلبات الإضافية (Additional Requirements)

تغطي هذه المتطلبات الجوانب العامة للنظام التي تضمن تجربة مستخدم ممتازة وامتثالاً للوائح.

**المتطلبات:**

*   **التوقيت:** يجب أن تكون جميع التواريخ والطوابع الزمنية في النظام بتوقيت آسيا/عمّان (+03:00) لضمان التناسق والدقة في التقارير.
*   **اللغة:** واجهة النظام الرئيسية يجب أن تكون باللغة العربية بشكل افتراضي، مع توفير خيار للتبديل إلى اللغة الإنجليزية.
*   **الوضع الداكن (Dark Mode):** يجب دعم الوضع الداكن (Dark Mode) افتراضياً في كل من تطبيق الجوال ومنصة الويب لتوفير تجربة بصرية مريحة للمستخدمين.
*   **حماية البيانات والامتثال:**
    *   **معايير حماية البيانات الشخصية الأردنية:** يجب أن يلتزم النظام بشكل كامل بجميع معايير وقوانين حماية البيانات الشخصية المعمول بها في الأردن.
    *   **اللائحة العامة لحماية البيانات (GDPR):** يجب أن يتوافق النظام مع مبادئ ومتطلبات اللائحة العامة لحماية البيانات (GDPR) الخاصة بالاتحاد الأوروبي، خاصة فيما يتعلق بجمع، معالجة، وتخزين البيانات الشخصية، لضمان أعلى مستويات الخصوصية والأمان.

## 6. النماذج الأولية للواجهات (UI/UX Prototypes)

بناءً على المتطلبات الوظيفية المفصلة، سيتم تطوير نماذج أولية (Wireframes و Mockups) للواجهات الرئيسية لكل من تطبيق الجوال ومنصة الويب. تهدف هذه النماذج إلى تصور تدفق المستخدمين، وتصميم الشاشات الرئيسية، وتحديد أماكن العناصر التفاعلية، مما يوفر فهماً بصرياً لكيفية عمل النظام قبل البدء في التطوير الفعلي.

**أمثلة على الشاشات الرئيسية التي سيتم تصميم نماذج أولية لها:**

*   **تطبيق المندوب (Mobile App):**
    *   شاشة تسجيل الدخول.
    *   الشاشة الرئيسية/لوحة معلومات المندوب (عرض العملاء المخصصين، الزيارات المجدولة).
    *   شاشة تفاصيل العميل (معلومات العميل، سجل الزيارات، زر بدء/إنهاء الزيارة، قسم الملاحظات).
    *   شاشة بدء الزيارة (عرض الموقع، عداد الوقت).
    *   شاشة إنهاء الزيارة (اختيار النتيجة، إضافة الملاحظات).
    *   شاشة التقويم/الخطة الشهرية.
    *   شاشة تقارير أداء المندوب.
*   **منصة الويب (Web Platform):**
    *   شاشة تسجيل الدخول.
    *   لوحة معلومات المسؤول/المدير (عرض شامل للبيانات، KPIs).
    *   شاشة إدارة المستخدمين (إضافة/تعديل/حذف المستخدمين، تعيين الأدوار).
    *   شاشة إدارة العملاء (قائمة العملاء، إضافة/تعديل/حذف).
    *   شاشة إدارة المناطق وتعيينها.
    *   شاشة تتبع المندوبين على الخريطة (عرض مباشر وتاريخي).
    *   شاشة التقارير والتحليلات المخصصة (مع خيارات التصفية والتصدير).
    *   شاشة سجل التدقيق (Audit Log).

## 7. الخطوات التالية المقترحة

بعد الانتهاء من وثيقة المتطلبات الشاملة والاتفاق عليها، يمكن الانتقال إلى المراحل التالية من دورة حياة تطوير البرمجيات:

1.  **التصميم الفني (Technical Design):** تحويل المتطلبات الوظيفية إلى تصميم معماري مفصل للنظام، بما في ذلك تصميم قاعدة البيانات، واجهات برمجة التطبيقات (APIs)، وهيكل المكونات.
2.  **التصميم المرئي وتجربة المستخدم (UI/UX Design):** تطوير التصميمات المرئية النهائية (Mockups و Prototypes) بناءً على النماذج الأولية، مع التركيز على تجربة المستخدم الجذابة والبديهية.
3.  **التطوير (Development):** البدء في كتابة الكود البرمجي لكل من الواجهات الأمامية والخلفية، وتطبيق قواعد البيانات.
4.  **الاختبار (Testing):** إجراء اختبارات شاملة (وظيفية، أداء، أمان، قبول المستخدم) لضمان جودة النظام وخلوه من الأخطاء.
5.  **النشر والتدريب (Deployment & Training):** نشر النظام على بيئة الإنتاج وتدريب المستخدمين على كيفية استخدامه.
6.  **الدعم والصيانة (Support & Maintenance):** توفير الدعم المستمر، وإصلاح الأخطاء، وإضافة تحسينات وميزات جديدة بناءً على التغذية الراجعة.

---

**المؤلف:** Manus AI
**التاريخ:** 14 يونيو 2025



